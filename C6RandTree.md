## [SHOI2012]随机树
### 题面描述
![题面](https://cdn.luogu.org/upload/pic/6555.png)
### 注
这道题目真是难。有一点概率期望基础的同学，可以考虑只拿前面50分，即问题1。这里要用到期望的一个公式。根据期望线性，
$$E(\alpha A+\beta B) = \alpha E(A)+\beta E(B)$$
设$f[i]$表示叶子节点个数为$i$的期望深度和,$depth[i]$表示第$i$个叶子节点的深度（这只是一个辅助变量,设而不求）。
关于第二问，见别人的题解[orz](https://www.luogu.org/problemnew/solution/P3830)。我是真的不会推导P[i][j]。我的收获是：
$max(i,j)$的期望值并不等于$max(i的期望值,j的期望值)$,因为我们要考虑$i,j$的分布。这个时候就不能直接求期望了，我们要转而求概率（不然题目几乎无法做）。
听说有个公式：
$$E(x) = \sum_i{P(i\leq x)}$$
